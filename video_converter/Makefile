.PHONY: lint lint-format lint-check lint-type lint-style

# –ö–∞—Ç–∞–ª–æ–≥ —Å –∏—Å—Ö–æ–¥–Ω–∏–∫–∞–º–∏ (–º–æ–∂–Ω–æ –ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—å)
SRC_DIR := app

# –õ–∏–Ω—Ç–µ—Ä—ã –∏ –∫–æ–º–∞–Ω–¥—ã
lint: lint-format lint-check lint-type lint-style

lint-check:
	@echo "üßπ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ª–∏–Ω—Ç–µ—Ä–æ–≤..."

lint-format:
	@echo "üé® black (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)..."
	@black --check $(SRC_DIR) || echo "[black] ‚ùå –û—à–∏–±–∫–∞!"

lint-type:
	@echo "üîç mypy (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤)..." || echo "[mypy] ‚ùå –û—à–∏–±–∫–∞!"
	@mypy $(SRC_DIR) || echo "[flake8] ‚ùå –û—à–∏–±–∫–∞!"

lint-style:
	@echo "üß™ pylint –∏ flake8 (—Å—Ç–∏–ª—å –∏ –æ—à–∏–±–∫–∏)..."
	@pylint $(SRC_DIR) || echo "[pylint] ‚ùå –û—à–∏–±–∫–∞!"
	@flake8 $(SRC_DIR)

format:
	@echo "‚ú® –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ black'–æ–º..."
	@black $(SRC_DIR)